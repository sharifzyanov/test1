# Warehouse Inventory API

Простое PHP-приложение для управления запасами склада. Реализовано в виде REST API с хранением данных в JSON файле.

## Запуск

```bash
php -S 0.0.0.0:8000 -t public
```

После запуска API будет доступно по адресу `http://localhost:8000`.

## Эндпоинты

- `GET /items` — список товаров.
- `GET /items/{id}` — получить товар по идентификатору.
- `POST /items` — создать товар. Тело запроса:

  ```json
  {
    "name": "Шуруп 5мм",
    "sku": "SRP-5",
    "location": "A-01",
    "quantity": 120,
    "reorder_level": 50
  }
  ```

- `PUT /items/{id}` — обновить название, SKU, ячейку хранения или уровень дозаказа. Пример:

  ```json
  {
    "name": "Шуруп 5мм (нержавеющий)",
    "location": "A-02"
  }
  ```

- `POST /items/{id}/adjust` — изменить количество на складе. Положительное значение добавляет запас, отрицательное — списывает. Пример:

  ```json
  {
    "quantity": -10,
    "reason": "Отгрузка заказа #1001"
  }
  ```

- `GET /movements` — история всех движений товара.

## Формат ответов об ошибке

В случае ошибок валидации API вернёт статус `422` и список ошибок:

```json
{
  "error": "Validation failed",
  "details": {
    "quantity": "Quantity must be zero or greater."
  }
}
```

## Хранение данных

Данные сохраняются в файле `data/inventory.json`. Для очистки базы достаточно удалить файл — он будет создан заново при следующем запуске приложения.
